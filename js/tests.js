!function(){function t(e){var n=t.resolve(e),r=t.modules[n];if(!r)throw new Error('failed to require "'+e+'"');return r.exports||(r.exports={},r.call(r.exports,r,r.exports,t.relative(n))),r.exports}t.modules={},t.resolve=function(e){var n=e,r=e+".js",s=e+"/index.js";return t.modules[r]&&r||t.modules[s]&&s||n},t.register=function(e,n){t.modules[e]=n},t.relative=function(e){return function(n){if("."!=n.charAt(0))return t(n);var r=e.split("/"),s=n.split("/");r.pop();for(var o=0;o<s.length;o++){var i=s[o];".."==i?r.pop():"."!=i&&r.push(i)}return t(r.join("/"))}},t.register("browser/debug.js",function(t,e,n){t.exports=function(t){return function(){}}}),t.register("browser/diff.js",function(t,e,n){}),t.register("browser/events.js",function(t,e,n){function r(t){return"[object Array]"=={}.toString.call(t)}function s(){}e.EventEmitter=s,s.prototype.on=function(t,e){return this.$events||(this.$events={}),this.$events[t]?r(this.$events[t])?this.$events[t].push(e):this.$events[t]=[this.$events[t],e]:this.$events[t]=e,this},s.prototype.addListener=s.prototype.on,s.prototype.once=function(t,e){function n(){r.removeListener(t,n),e.apply(this,arguments)}var r=this;return n.listener=e,this.on(t,n),this},s.prototype.removeListener=function(t,e){if(this.$events&&this.$events[t]){var n=this.$events[t];if(r(n)){for(var s=-1,o=0,i=n.length;i>o;o++)if(n[o]===e||n[o].listener&&n[o].listener===e){s=o;break}if(0>s)return this;n.splice(s,1),n.length||delete this.$events[t]}else(n===e||n.listener&&n.listener===e)&&delete this.$events[t]}return this},s.prototype.removeAllListeners=function(t){return void 0===t?(this.$events={},this):(this.$events&&this.$events[t]&&(this.$events[t]=null),this)},s.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),r(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},s.prototype.emit=function(t){if(!this.$events)return!1;var e=this.$events[t];if(!e)return!1;var n=[].slice.call(arguments,1);if("function"==typeof e)e.apply(this,n);else{if(!r(e))return!1;for(var s=e.slice(),o=0,i=s.length;i>o;o++)s[o].apply(this,n)}return!0}}),t.register("browser/fs.js",function(t,e,n){}),t.register("browser/path.js",function(t,e,n){}),t.register("browser/progress.js",function(t,e,n){function r(){this.percent=0,this.size(0),this.fontSize(11),this.font("helvetica, arial, sans-serif")}t.exports=r,r.prototype.size=function(t){return this._size=t,this},r.prototype.text=function(t){return this._text=t,this},r.prototype.fontSize=function(t){return this._fontSize=t,this},r.prototype.font=function(t){return this._font=t,this},r.prototype.update=function(t){return this.percent=t,this},r.prototype.draw=function(t){var e=Math.min(this.percent,100),n=this._size,r=n/2,s=r,o=r,i=r-1,a=this._fontSize;t.font=a+"px "+this._font;var u=2*Math.PI*(e/100);t.clearRect(0,0,n,n),t.strokeStyle="#9f9f9f",t.beginPath(),t.arc(s,o,i,0,u,!1),t.stroke(),t.strokeStyle="#eee",t.beginPath(),t.arc(s,o,i-1,0,u,!0),t.stroke();var c=this._text||(0|e)+"%",l=t.measureText(c).width;return t.fillText(c,s-l/2+1,o+a/2-1),this}}),t.register("browser/tty.js",function(t,e,n){e.isatty=function(){return!0},e.getWindowSize=function(){return[window.innerHeight,window.innerWidth]}}),t.register("context.js",function(t,e,n){function r(){}t.exports=r,r.prototype.test=function(t){return this._test=t,this},r.prototype.timeout=function(t){return this._test.timeout(t),this},r.prototype.inspect=function(){return JSON.stringify(this,function(t,e){return"_test"==t?void 0:e},2)}}),t.register("hook.js",function(t,e,n){function r(t,e){s.call(this,t,e),this.type="hook"}var s=n("./runnable");t.exports=r,r.prototype=new s,r.prototype.constructor=r}),t.register("interfaces/bdd.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("pre-require",function(t){t.xdescribe=function(){},t.xit=function(){},t.before=function(t){e[0].beforeAll(t)},t.after=function(t){e[0].afterAll(t)},t.beforeEach=function(t){e[0].beforeEach(t)},t.afterEach=function(t){e[0].afterEach(t)},t.describe=function(t,n){var s=r.create(e[0],t);e.unshift(s),n(),e.shift()},t.it=function(t,n){e[0].addTest(new s(t,n))}})}}),t.register("interfaces/exports.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){function e(t){var o;for(var i in t)if("function"==typeof t[i]){var a=t[i];switch(i){case"before":n[0].beforeAll(a);break;case"after":n[0].afterAll(a);break;case"beforeEach":n[0].beforeEach(a);break;case"afterEach":n[0].afterEach(a);break;default:n[0].addTest(new s(i,a))}}else{var o=r.create(n[0],i);n.unshift(o),e(t[i]),n.shift()}}var n=[t];t.on("require",e)}}),t.register("interfaces/index.js",function(t,e,n){e.bdd=n("./bdd"),e.tdd=n("./tdd"),e.qunit=n("./qunit"),e.exports=n("./exports")}),t.register("interfaces/qunit.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("pre-require",function(t){t.before=function(t){e[0].beforeAll(t)},t.after=function(t){e[0].afterAll(t)},t.beforeEach=function(t){e[0].beforeEach(t)},t.afterEach=function(t){e[0].afterEach(t)},t.suite=function(t){e.length>1&&e.shift();var n=r.create(e[0],t);e.unshift(n)},t.test=function(t,n){e[0].addTest(new s(t,n))}})}}),t.register("interfaces/tdd.js",function(t,e,n){var r=n("../suite"),s=n("../test");t.exports=function(t){var e=[t];t.on("pre-require",function(t){t.setup=function(t){e[0].beforeEach(t)},t.teardown=function(t){e[0].afterEach(t)},t.suiteSetup=function(t){e[0].beforeAll(t)},t.suiteTeardown=function(t){e[0].afterAll(t)},t.suite=function(t,n){var s=r.create(e[0],t);e.unshift(s),n(),e.shift()},t.test=function(t,n){e[0].addTest(new s(t,n))}})}}),t.register("mocha.js",function(t,e,n){function r(t){return __dirname+"/../images/"+t+".png"}function s(t){t=t||{},this.files=[],this.options=t,this.suite=new e.Suite("",new e.Context),this.ui(t.ui),this.reporter(t.reporter),t.timeout&&this.suite.timeout(t.timeout)}/*!
 * mocha
 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */
var o=n("browser/path");e=t.exports=s,e.version="1.0.0",e.utils=n("./utils"),e.interfaces=n("./interfaces"),e.reporters=n("./reporters"),e.Runnable=n("./runnable"),e.Context=n("./context"),e.Runner=n("./runner"),e.Suite=n("./suite"),e.Hook=n("./hook"),e.Test=n("./test"),s.prototype.addFile=function(t){return this.files.push(t),this},s.prototype.reporter=function(t){if(t=t||"dot",this._reporter=n("./reporters/"+t),!this._reporter)throw new Error('invalid reporter "'+t+'"');return this},s.prototype.ui=function(t){if(t=t||"bdd",this._ui=e.interfaces[t],!this._ui)throw new Error('invalid interface "'+t+'"');return this._ui=this._ui(this.suite),this},s.prototype.loadFiles=function(){var t=this.suite;this.files.forEach(function(e){e=o.resolve(e),t.emit("pre-require",global,e),t.emit("require",n(e),e),t.emit("post-require",global,e)})},s.prototype.growl=function(t,e){var s=n("growl");t.on("end",function(){var n=e.stats;if(n.failures){var o=n.failures+" of "+t.total+" tests failed";s(o,{title:"Failed",image:r("fail")})}else s(n.passes+" tests passed in "+n.duration+"ms",{title:"Passed",image:r("pass")})})},s.prototype.run=function(t){this.loadFiles();var n=this.suite,r=this.options,s=new e.Runner(n),o=new this._reporter(s);return s.ignoreLeaks=r.ignoreLeaks,r.grep&&s.grep(r.grep),r.globals&&s.globals(r.globals),r.growl&&this.growl(s,o),s.run(t)}}),t.register("reporters/base.js",function(t,e,n){function r(t){var n=this.stats={suites:0,tests:0,passes:0,failures:0},r=this.failures=[];t&&(this.runner=t,t.on("start",function(){n.start=new Date}),t.on("suite",function(t){n.suites=n.suites||0,t.root||n.suites++}),t.on("test end",function(t){n.tests=n.tests||0,n.tests++}),t.on("pass",function(t){n.passes=n.passes||0;var r=e.slow/2;t.speed=t.duration>e.slow?"slow":t.duration>r?"medium":"fast",n.passes++}),t.on("fail",function(t,e){n.failures=n.failures||0,n.failures++,t.err=e,r.push(t)}),t.on("end",function(){n.end=new Date,n.duration=new Date-n.start}))}function s(t,e){return t=String(t),Array(e-t.length+1).join(" ")+t}function o(t,e){return u["diff"+e](t.actual,t.expected).map(function(t){return t.added?i("diff added",t.value):t.removed?i("diff removed",t.value):t.value}).join("")}function i(t,e){return e.split("\n").map(function(e){return l(t,e)}).join("\n")}var a=n("browser/tty"),u=n("browser/diff"),c=a.isatty(1)&&a.isatty(2);e=t.exports=r,e.useColors=c,e.colors={pass:90,fail:31,"bright pass":92,"bright fail":91,"bright yellow":93,pending:36,suite:0,"error title":0,"error message":31,"error stack":90,checkmark:32,fast:90,medium:33,slow:31,green:32,light:90,"diff gutter":90,"diff added":42,"diff removed":41};var l=e.color=function(t,n){return e.useColors?"["+e.colors[t]+"m"+n+"[0m":n};e.window={width:c?process.stdout.getWindowSize?process.stdout.getWindowSize(1)[0]:a.getWindowSize()[1]:75},e.cursor={hide:function(){process.stdout.write("[?25l")},show:function(){process.stdout.write("[?25h")},deleteLine:function(){process.stdout.write("[2K")},beginningOfLine:function(){process.stdout.write("[0G")},CR:function(){e.cursor.deleteLine(),e.cursor.beginningOfLine()}},e.slow=75,e.list=function(t){console.error(),t.forEach(function(t,e){var n=l("error title","  %s) %s:\n")+l("error message","     %s")+l("error stack","\n%s\n"),r=t.err,i=r.message||"",a=r.stack||i,u=a.indexOf(i)+i.length,c=a.slice(0,u),h=r.actual,p=r.expected;if("string"==typeof h&&"string"==typeof p){var f=Math.max(h.length,p.length);c=20>f?o(r,"Chars"):o(r,"Words");var d=c.split("\n");if(d.length>4){var g=String(d.length).length;c=d.map(function(t,e){return s(++e,g)+" | "+t}).join("\n")}c="\n"+l("diff removed","actual")+" "+l("diff added","expected")+"\n\n"+c+"\n",c=c.replace(/^/gm,"      "),n=l("error title","  %s) %s:\n%s")+l("error stack","\n%s\n")}a=a.slice(u?u+1:u).replace(/^/gm,"  "),console.error(n,e+1,t.fullTitle(),c,a)})},r.prototype.epilogue=function(){var t,e=this.stats;return console.log(),e.failures?(t=l("bright fail","  \u2716")+l("fail"," %d of %d tests failed")+l("light",":"),console.error(t,e.failures,this.runner.total),r.list(this.failures),void console.error()):(t=l("bright pass","  \u2714")+l("green"," %d tests complete")+l("light"," (%dms)"),console.log(t,e.tests||0,e.duration),void console.log())}}),t.register("reporters/doc.js",function(t,e,n){function r(t){function e(){return Array(n).join("  ")}o.call(this,t);var n=(this.stats,t.total,2);t.on("suite",function(t){t.root||(++n,console.log('%s<section class="suite">',e()),++n,console.log("%s<h1>%s</h1>",e(),t.title),console.log("%s<dl>",e()))}),t.on("suite end",function(t){t.root||(console.log("%s</dl>",e()),--n,console.log("%s</section>",e()),--n)}),t.on("pass",function(t){console.log("%s  <dt>%s</dt>",e(),t.title);var n=i.escape(s(t.fn.toString()));console.log("%s  <dd><pre><code>%s</code></pre></dd>",e(),n)})}function s(t){t=t.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var e=t.match(/^\n?( *)/)[1].length,n=new RegExp("^ {"+e+"}","gm");return t=t.replace(n,"")}var o=n("./base"),i=n("../utils");e=t.exports=r}),t.register("reporters/dot.js",function(t,e,n){function r(t){s.call(this,t);var e=this,n=(this.stats,.75*s.window.width|0),r=0;t.on("start",function(){process.stdout.write("\n  ")}),t.on("pending",function(t){process.stdout.write(o("pending","."))}),t.on("pass",function(t){++r%n==0&&process.stdout.write("\n  "),"slow"==t.speed?process.stdout.write(o("bright yellow",".")):process.stdout.write(o(t.speed,"."))}),t.on("fail",function(t,e){++r%n==0&&process.stdout.write("\n  "),process.stdout.write(o("fail","."))}),t.on("end",function(){console.log(),e.epilogue()})}var s=n("./base"),o=s.color;e=t.exports=r,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/html-cov.js",function(t,e,n){function r(t){var e=n("jade"),r=__dirname+"/templates/coverage.jade",a=i.readFileSync(r,"utf8"),u=e.compile(a,{filename:r}),c=this;o.call(this,t,!1),t.on("end",function(){process.stdout.write(u({cov:c.cov,coverageClass:s}))})}function s(t){return t>=75?"high":t>=50?"medium":t>=25?"low":"terrible"}var o=n("./json-cov"),i=n("browser/fs");e=t.exports=r}),t.register("reporters/html.js",function(t,e,n){function r(t){c.call(this,t);var e,n,r=this.stats,l=t.total,p=document.getElementById("mocha"),d=o(f),g=d.getElementsByTagName("li"),y=g[1].getElementsByTagName("em")[0],m=g[2].getElementsByTagName("em")[0],v=g[3].getElementsByTagName("em")[0],b=d.getElementsByTagName("canvas")[0],w=[p];return b.getContext&&(n=b.getContext("2d"),e=new h),p?(p.appendChild(d),e&&e.size(40),t.on("suite",function(t){if(!t.root){var e=o('<div class="suite"><h1>%s</h1></div>',t.title);w[0].appendChild(e),w.unshift(document.createElement("div")),e.appendChild(w[0])}}),t.on("suite end",function(t){t.root||w.shift()}),t.on("fail",function(e,n){n.uncaught&&t.emit("test end",e)}),void t.on("test end",function(t){var s=r.tests/l*100|0;e&&e.update(s).draw(n);var c=new Date-r.start;if(i(y,r.passes),i(m,r.failures),i(v,(c/1e3).toFixed(2)),"passed"==t.state)var h=o('<div class="test pass"><h2>%e</h2></div>',t.title);else if(t.pending)var h=o('<div class="test pass pending"><h2>%e</h2></div>',t.title);else{var h=o('<div class="test fail"><h2>%e</h2></div>',t.title),p=t.err.stack||t.err.toString();~p.indexOf(t.err.message)||(p=t.err.message+"\n"+p),"[object Error]"==p&&(p=t.err.message),!t.err.stack&&t.err.sourceURL&&void 0!==t.err.line&&(p+="\n("+t.err.sourceURL+":"+t.err.line+")"),h.appendChild(o('<pre class="error">%e</pre>',p))}var f=h.getElementsByTagName("h2")[0];if(a(f,"click",function(){d.style.display="none"==d.style.display?"block":"none"}),!t.pending){var d=o("<pre><code>%e</code></pre>",u(t.fn.toString()));h.appendChild(d),d.style.display="none"}w[0].appendChild(h)})):s("#mocha div missing, add it to your document")}function s(t){document.body.appendChild(o('<div id="error">%s</div>',t))}function o(t){var e=arguments,n=document.createElement("div"),r=1;return n.innerHTML=t.replace(/%([se])/g,function(t,n){switch(n){case"s":return String(e[r++]);case"e":return p(e[r++])}}),n.firstChild}function i(t,e){t.textContent?t.textContent=e:t.innerText=e}function a(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function u(t){t=t.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var e=t.match(/^\n?( *)/)[1].length,n=new RegExp("^ {"+e+"}","gm");return t=t.replace(n,"").replace(/^\s+/,"")}var c=n("./base"),l=n("../utils"),h=n("../browser/progress"),p=l.escape;e=t.exports=r;var f='<ul id="stats"><li class="progress"><canvas width="40" height="40"></canvas></li><li class="passes">passes: <em>0</em></li><li class="failures">failures: <em>0</em></li><li class="duration">duration: <em>0</em>s</li></ul>'}),t.register("reporters/index.js",function(t,e,n){e.Base=n("./base"),e.Dot=n("./dot"),e.Doc=n("./doc"),e.TAP=n("./tap"),e.JSON=n("./json"),e.HTML=n("./html"),e.List=n("./list"),e.Min=n("./min"),e.Spec=n("./spec"),e.Progress=n("./progress"),e.Landing=n("./landing"),e.JSONCov=n("./json-cov"),e.HTMLCov=n("./html-cov"),e.JSONStream=n("./json-stream"),e.XUnit=n("./xunit"),e.Teamcity=n("./teamcity")}),t.register("reporters/json-cov.js",function(t,e,n){function r(t,e){var n=this,e=1==arguments.length?!0:e;a.call(this,t);var r=[],o=[],u=[];t.on("test end",function(t){r.push(t)}),t.on("pass",function(t){u.push(t)}),t.on("fail",function(t){o.push(t)}),t.on("end",function(){var t=global._$jscoverage||{},a=n.cov=s(t);a.stats=n.stats,a.tests=r.map(i),a.failures=o.map(i),a.passes=u.map(i),e&&process.stdout.write(JSON.stringify(a,null,2))})}function s(t){var e={instrumentation:"node-jscoverage",sloc:0,hits:0,misses:0,coverage:0,files:[]};for(var n in t){var r=o(n,t[n]);e.files.push(r),e.hits+=r.hits,e.misses+=r.misses,e.sloc+=r.sloc}return e.sloc>0&&(e.coverage=e.hits/e.sloc*100),e}function o(t,e){var n={filename:t,coverage:0,hits:0,misses:0,sloc:0,source:{}};return e.source.forEach(function(t,r){r++,0===e[r]?(n.misses++,n.sloc++):void 0!==e[r]&&(n.hits++,n.sloc++),n.source[r]={source:t,coverage:void 0===e[r]?"":e[r]}}),n.coverage=n.hits/n.sloc*100,n}function i(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var a=n("./base");e=t.exports=r}),t.register("reporters/json-stream.js",function(t,e,n){function r(t){o.call(this,t);var e=this,n=(this.stats,t.total);t.on("start",function(){console.log(JSON.stringify(["start",{total:n}]))}),t.on("pass",function(t){console.log(JSON.stringify(["pass",s(t)]))}),t.on("fail",function(t,e){console.log(JSON.stringify(["fail",s(t)]))}),t.on("end",function(){process.stdout.write(JSON.stringify(["end",e.stats]))})}function s(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var o=n("./base");o.color;e=t.exports=r}),t.register("reporters/json.js",function(t,e,n){function r(t){var e=this;o.call(this,t);var n=[],r=[],i=[];t.on("test end",function(t){n.push(t)}),t.on("pass",function(t){i.push(t)}),t.on("fail",function(t){r.push(t)}),t.on("end",function(){var t={stats:e.stats,tests:n.map(s),failures:r.map(s),passes:i.map(s)};process.stdout.write(JSON.stringify(t,null,2))})}function s(t){return{title:t.title,fullTitle:t.fullTitle(),duration:t.duration}}var o=n("./base");o.cursor,o.color;e=t.exports=r}),t.register("reporters/landing.js",function(t,e,n){function r(t){function e(){var t=Array(r).join("-");return"  "+i("runway",t)}s.call(this,t);var n=this,r=(this.stats,.75*s.window.width|0),a=t.total,u=process.stdout,c=i("plane","\u2708"),l=-1,h=0;t.on("start",function(){u.write("\n  "),o.hide()}),t.on("test end",function(t){var n=-1==l?r*++h/a|0:l;"failed"==t.state&&(c=i("plane crash","\u2708"),l=n),u.write("[4F\n\n"),u.write(e()),u.write("\n  "),u.write(i("runway",Array(n).join("\u22c5"))),u.write(c),u.write(i("runway",Array(r-n).join("\u22c5")+"\n")),u.write(e()),u.write("[0m")}),t.on("end",function(){o.show(),console.log(),n.epilogue()})}var s=n("./base"),o=s.cursor,i=s.color;e=t.exports=r,s.colors.plane=0,s.colors["plane crash"]=31,s.colors.runway=90,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/list.js",function(t,e,n){function r(t){s.call(this,t);var e=this,n=(this.stats,0);t.on("start",function(){console.log()}),t.on("test",function(t){process.stdout.write(i("pass","    "+t.fullTitle()+": "))}),t.on("pending",function(t){var e=i("checkmark","  -")+i("pending"," %s");console.log(e,t.fullTitle())}),t.on("pass",function(t){var e=i("checkmark","  \u2713")+i("pass"," %s: ")+i(t.speed,"%dms");o.CR(),console.log(e,t.fullTitle(),t.duration)}),t.on("fail",function(t,e){o.CR(),console.log(i("fail","  %d) %s"),++n,t.fullTitle())}),t.on("end",e.epilogue.bind(e))}var s=n("./base"),o=s.cursor,i=s.color;e=t.exports=r,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/markdown.js",function(t,e,n){function r(t){function e(t){return Array(u).join("#")+" "+t}function n(t,e){var r=e;return e=e[t.title]=e[t.title]||{suite:t},t.suites.forEach(function(t){n(t,e)}),r}function r(t,e){++e;var n,s="";for(var o in t)"suite"!=o&&(o&&(n=" - ["+o+"](#"+i.slug(t[o].suite.fullTitle())+")\n"),o&&(s+=Array(e).join("  ")+n),s+=r(t[o],e));return--e,s}function a(t){var e=n(t,{});return r(e,0)}o.call(this,t);var u=(this.stats,t.total,0),c="";a(t.suite),t.on("suite",function(t){++u;var n=i.slug(t.fullTitle());c+='<a name="'+n+'" />\n',c+=e(t.title)+"\n"}),t.on("suite end",function(t){--u}),t.on("pass",function(t){var e=s(t.fn.toString());c+=t.title+".\n",c+="\n```js",c+=e+"\n",c+="```\n\n"}),t.on("end",function(){process.stdout.write("# TOC\n"),process.stdout.write(a(t.suite)),process.stdout.write(c)})}function s(t){t=t.replace(/^function *\(.*\) *{/,"").replace(/\s+\}$/,"");var e=t.match(/^\n?( *)/)[1].length,n=new RegExp("^ {"+e+"}","gm");return t=t.replace(n,"")}var o=n("./base"),i=n("../utils");e=t.exports=r}),t.register("reporters/min.js",function(t,e,n){function r(t){s.call(this,t),t.on("start",function(){process.stdout.write("[2J"),process.stdout.write("[1;3H")}),t.on("end",this.epilogue.bind(this))}var s=n("./base");e=t.exports=r,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/progress.js",function(t,e,n){function r(t,e){s.call(this,t);var n=this,e=e||{},r=(this.stats,.5*s.window.width|0),a=t.total,u=0;Math.max;e.open=e.open||"[",e.complete=e.complete||"\u25ac",e.incomplete=e.incomplete||"\u22c5",e.close=e.close||"]",e.verbose=!1,t.on("start",function(){console.log(),o.hide()}),t.on("test end",function(){var t=u++/a,n=r*t|0,s=r-n;o.CR(),process.stdout.write("[J"),process.stdout.write(i("progress","  "+e.open)),process.stdout.write(Array(n).join(e.complete)),process.stdout.write(Array(s).join(e.incomplete)),process.stdout.write(i("progress",e.close)),e.verbose&&process.stdout.write(i("progress"," "+u+" of "+a))}),t.on("end",function(){o.show(),console.log(),n.epilogue()})}var s=n("./base"),o=s.cursor,i=s.color;e=t.exports=r,s.colors.progress=90,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/spec.js",function(t,e,n){function r(t){function e(){return Array(r).join("  ")}s.call(this,t);var n=this,r=(this.stats,0),a=0;t.on("start",function(){console.log()}),t.on("suite",function(t){++r,console.log(i("suite","%s%s"),e(),t.title)}),t.on("suite end",function(t){--r,1==r&&console.log()}),t.on("test",function(t){process.stdout.write(e()+i("pass","  \u25e6 "+t.title+": "))}),t.on("pending",function(t){var n=e()+i("pending","  - %s");console.log(n,t.title)}),t.on("pass",function(t){if("fast"==t.speed){var n=e()+i("checkmark","  \u2713")+i("pass"," %s ");o.CR(),console.log(n,t.title)}else{var n=e()+i("checkmark","  \u2713")+i("pass"," %s ")+i(t.speed,"(%dms)");o.CR(),console.log(n,t.title,t.duration)}}),t.on("fail",function(t,n){o.CR(),console.log(e()+i("fail","  %d) %s"),++a,t.title)}),t.on("end",n.epilogue.bind(n))}var s=n("./base"),o=s.cursor,i=s.color;e=t.exports=r,r.prototype=new s,r.prototype.constructor=r}),t.register("reporters/tap.js",function(t,e,n){function r(t){o.call(this,t);var e=(this.stats,t.total),n=1;t.on("start",function(){console.log("%d..%d",1,e)}),t.on("test end",function(){++n}),t.on("pending",function(t){console.log("ok %d %s # SKIP -",n,s(t))}),t.on("pass",function(t){console.log("ok %d %s",n,s(t))}),t.on("fail",function(t,e){console.log("not ok %d %s",n,s(t)),console.log(e.stack.replace(/^/gm,"  "))})}function s(t){return t.fullTitle().replace(/#/g,"")}var o=n("./base");o.cursor,o.color;e=t.exports=r}),t.register("reporters/teamcity.js",function(t,e,n){function r(t){o.call(this,t);var e=this.stats;t.on("start",function(){console.log("##teamcity[testSuiteStarted name='mocha.suite']")}),t.on("test",function(t){console.log("##teamcity[testStarted name='%s']",s(t.fullTitle()))}),t.on("fail",function(t,e){console.log("##teamcity[testFailed name='%s' message='%s']",s(t.fullTitle()),s(e.message))}),t.on("pending",function(t){console.log("##teamcity[testIgnored name='%s' message='pending']",s(t.fullTitle()))}),t.on("test end",function(t){console.log("##teamcity[testFinished name='%s' duration='%s']",s(t.fullTitle()),t.duration)}),t.on("end",function(){console.log("##teamcity[testSuiteFinished name='mocha.suite' duration='%s']",e.duration)})}function s(t){return t.replace(/'/g,"|'")}var o=n("./base");e=t.exports=r}),t.register("reporters/xunit.js",function(t,e,n){function r(t){a.call(this,t);var e=this.stats,n=[];t.on("test end",function(t){n.push(t)}),t.on("end",function(){console.log(o("testsuite",{name:"Mocha Tests",tests:e.tests,failures:e.failures,errors:e.failures,skip:e.tests-e.failures-e.passes,timestamp:(new Date).toUTCString(),time:e.duration/1e3},!1)),n.forEach(s),console.log("</testsuite>")})}function s(t){var e={classname:t.parent.fullTitle(),name:t.title,time:t.duration/1e3};if("failed"==t.state){var n=t.err;e.message=c(n.message),console.log(o("testcase",e,!1,o("failure",e,!1,i(n.stack))))}else t.pending?console.log(o("testcase",e,!1,o("skipped",{},!0))):console.log(o("testcase",e,!0))}function o(t,e,n,r){var s,o=n?"/>":">",i=[];for(var a in e)i.push(a+'="'+c(e[a])+'"');return s="<"+t+(i.length?" "+i.join(" "):"")+o,r&&(s+=r+"</"+t+o),s}function i(t){return"<![CDATA["+c(t)+"]]>"}var a=n("./base"),u=n("../utils"),c=u.escape;e=t.exports=r,r.prototype=new a,r.prototype.constructor=r}),t.register("runnable.js",function(t,e,n){function r(t,e){this.title=t,this.fn=e,this.async=e&&e.length,this.sync=!this.async,this._timeout=2e3,this.timedOut=!1}var s=n("browser/events").EventEmitter,o=n("browser/debug")("runnable");t.exports=r,r.prototype=new s,r.prototype.constructor=r,r.prototype.timeout=function(t){return 0==arguments.length?this._timeout:(o("timeout %d",t),this._timeout=t,this.timer&&this.resetTimeout(),this)},r.prototype.fullTitle=function(){return this.parent.fullTitle()+" "+this.title},r.prototype.clearTimeout=function(){clearTimeout(this.timer)},r.prototype.resetTimeout=function(){var t=this,e=this.timeout();this.clearTimeout(),e&&(this.timer=setTimeout(function(){t.callback(new Error("timeout of "+e+"ms exceeded")),t.timedOut=!0},e))},r.prototype.run=function(t){function e(){s||(s=!0,o.emit("error",new Error("done() called multiple times")))}function n(n){if(!o.timedOut){if(r)return e();o.clearTimeout(),o.duration=new Date-a,r=!0,t(n)}}var r,s,o=this,i=this.timeout(),a=new Date,u=this.ctx;if(this.async&&i&&(this.timer=setTimeout(function(){n(new Error("timeout of "+i+"ms exceeded")),o.timedOut=!0},i)),this.callback=n,this.async)try{this.fn.call(u,function(t){return t instanceof Error?n(t):null!=t?n(new Error("done() invoked with non-Error: "+t)):void n()})}catch(c){n(c)}else try{this.pending||this.fn.call(u),this.duration=new Date-a,t()}catch(c){t(c)}}}),t.register("runner.js",function(t,e,n){function r(t){var e=this;this._globals=[],this.suite=t,this.total=t.total(),this.failures=0,this.on("test end",function(t){e.checkGlobals(t)}),this.on("hook end",function(t){e.checkGlobals(t)}),this.grep(/.*/),this.globals(i.keys(global).concat(["errno"]))}var s=n("browser/events").EventEmitter,o=n("browser/debug")("runner"),i=(n("./test"),n("./utils"));t.exports=r,r.prototype=new s,r.prototype.constructor=r,r.prototype.grep=function(t){return o("grep %s",t),this._grep=t,this},r.prototype.globals=function(t){return 0==arguments.length?this._globals:(o("globals %j",t),i.forEach(t,function(t){this._globals.push(t)},this),this)},r.prototype.checkGlobals=function(t){if(!this.ignoreLeaks){var e=i.filter(i.keys(global),function(t){return!(~i.indexOf(this._globals,t)||global.navigator&&"onerror"===t)},this);this._globals=this._globals.concat(e),e.length>1?this.fail(t,new Error("global leaks detected: "+e.join(", "))):e.length&&this.fail(t,new Error("global leak detected: "+e[0]))}},r.prototype.fail=function(t,e){++this.failures,t.state="failed",this.emit("fail",t,e)},r.prototype.failHook=function(t,e){this.fail(t,e),this.emit("end")},r.prototype.hook=function(t,e){function n(t){var r=s[t];return r?(o.currentRunnable=r,r.ctx.test(o.test),o.emit("hook",r),r.on("error",function(t){o.failHook(r,t)}),void r.run(function(e){return r.removeAllListeners("error"),e?o.failHook(r,e):(o.emit("hook end",r),void n(++t))})):e()}var r=this.suite,s=r["_"+t],o=(r._timeout,this);process.nextTick(function(){n(0)})},r.prototype.hooks=function(t,e,n){function r(i){return s.suite=i,i?void s.hook(t,function(t){return t?(s.suite=o,n(t)):void r(e.pop())}):(s.suite=o,n())}var s=this,o=this.suite;r(e.pop())},r.prototype.hookUp=function(t,e){var n=[this.suite].concat(this.parents()).reverse();this.hooks(t,n,e)},r.prototype.hookDown=function(t,e){var n=[this.suite].concat(this.parents());this.hooks(t,n,e)},r.prototype.parents=function(){for(var t=this.suite,e=[];t=t.parent;)e.push(t);return e},r.prototype.runTest=function(t){var e=this.test,n=this;try{e.ctx.test(e),e.on("error",function(t){n.fail(e,t)}),e.run(t)}catch(r){t(r)}},r.prototype.runTests=function(t,e){function n(i){return s.failures&&t._bail?e():(r=o.shift())?s._grep.test(r.fullTitle())?r.pending?(s.emit("pending",r),s.emit("test end",r),n()):(s.emit("test",s.test=r),void s.hookDown("beforeEach",function(){s.currentRunnable=s.test,s.runTest(function(t){return r=s.test,t?(s.fail(r,t),s.emit("test end",r),s.hookUp("afterEach",n)):(r.state="passed",s.emit("pass",r),s.emit("test end",r),void s.hookUp("afterEach",n))})})):n():e()}var r,s=this,o=t.tests;this.next=n,n()},r.prototype.runSuite=function(t,e){function n(){var e=t.suites[i++];return e?void s.runSuite(e,n):r()}function r(){s.suite=t,s.hook("afterAll",function(){s.emit("suite end",t),e()})}var s=this,i=0;o("run suite %s",t.fullTitle()),this.emit("suite",this.suite=t),this.hook("beforeAll",function(){s.runTests(t,n)})},r.prototype.uncaught=function(t){o("uncaught exception");var e=this.currentRunnable;if("failed"!=e.state)return e.clearTimeout(),t.uncaught=!0,this.fail(e,t),"test"==e.type?(this.emit("test end",e),void this.hookUp("afterEach",this.next)):void this.emit("end")},r.prototype.run=function(t){var e=this,t=t||function(){};return o("start"),this.on("end",function(){o("end"),process.removeListener("uncaughtException",this.uncaught),t(e.failures)}),this.emit("start"),this.runSuite(this.suite,function(){o("finished running"),e.emit("end")}),process.on("uncaughtException",function(t){e.uncaught(t)}),this}}),t.register("suite.js",function(t,e,n){function r(t,e){this.title=t,this.ctx=e,this.suites=[],this.tests=[],this._beforeEach=[],this._beforeAll=[],this._afterEach=[],this._afterAll=[],this.root=!t,this._timeout=2e3,this._bail=!1}var s=n("browser/events").EventEmitter,o=n("browser/debug")("suite"),i=n("./utils"),a=n("./hook");e=t.exports=r,e.create=function(t,e){var n=new r(e,t.ctx);return n.parent=t,e=n.fullTitle(),t.addSuite(n),n},r.prototype=new s,r.prototype.constructor=r,r.prototype.clone=function(){var t=new r(this.title);return o("clone"),t.ctx=this.ctx,t.timeout(this.timeout()),t.bail(this.bail()),t},r.prototype.timeout=function(t){return 0==arguments.length?this._timeout:(String(t).match(/s$/)&&(t=1e3*parseFloat(t)),o("timeout %d",t),this._timeout=parseInt(t,10),this)},r.prototype.bail=function(t){return 0==arguments.length?this._bail:(o("bail %s",t),this._bail=t,this)},r.prototype.beforeAll=function(t){var e=new a('"before all" hook',t);return e.parent=this,e.timeout(this.timeout()),e.ctx=this.ctx,this._beforeAll.push(e),this.emit("beforeAll",e),this},r.prototype.afterAll=function(t){var e=new a('"after all" hook',t);return e.parent=this,e.timeout(this.timeout()),e.ctx=this.ctx,this._afterAll.push(e),this.emit("afterAll",e),this},r.prototype.beforeEach=function(t){var e=new a('"before each" hook',t);return e.parent=this,e.timeout(this.timeout()),e.ctx=this.ctx,this._beforeEach.push(e),this.emit("beforeEach",e),this},r.prototype.afterEach=function(t){var e=new a('"after each" hook',t);return e.parent=this,e.timeout(this.timeout()),e.ctx=this.ctx,this._afterEach.push(e),this.emit("afterEach",e),this},r.prototype.addSuite=function(t){return t.parent=this,t.timeout(this.timeout()),t.bail(this.bail()),this.suites.push(t),this.emit("suite",t),this},r.prototype.addTest=function(t){return t.parent=this,t.timeout(this.timeout()),t.ctx=this.ctx,this.tests.push(t),this.emit("test",t),this},r.prototype.fullTitle=function(){if(this.parent){var t=this.parent.fullTitle();if(t)return t+" "+this.title}return this.title},r.prototype.total=function(){return i.reduce(this.suites,function(t,e){return t+e.total()},0)+this.tests.length}}),t.register("test.js",function(t,e,n){function r(t,e){s.call(this,t,e),this.pending=!e,this.type="test"}var s=n("./runnable");t.exports=r,r.prototype=new s,r.prototype.constructor=r,r.prototype.inspect=function(){return JSON.stringify(this,function(t,e){return"_"==t[0]?void 0:"parent"==t?"#<Suite>":e},2)}}),t.register("utils.js",function(t,e,n){function r(t){return!~u.indexOf(t)}var s=n("browser/fs"),o=n("browser/path"),i=o.join,a=n("browser/debug")("watch"),u=["node_modules",".git"];e.escape=function(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},e.forEach=function(t,e,n){for(var r=0,s=t.length;s>r;r++)e.call(n,t[r],r)},e.indexOf=function(t,e,n){for(var r=n||0,s=t.length;s>r;r++)if(t[r]===e)return r;return-1},e.reduce=function(t,e,n,r){for(var s=n,o=0,i=t.length;i>o;o++)s=e.call(r,s,t[o],o,t);return s},e.filter=function(t,e,n){for(var r=[],s=0,o=t.length;o>s;s++){var i=t[s];e.call(n,i,s,t)&&r.push(i)}return r},e.keys=Object.keys||function(t){var e=[],n=Object.prototype.hasOwnProperty;for(var r in t)n.call(t,r)&&e.push(r);return e},e.watch=function(t,e){var n={interval:100};t.forEach(function(t){a("file %s",t),s.watchFile(t,n,function(n,r){r.mtime<n.mtime&&e(t)})})},e.files=function(t,n){return n=n||[],s.readdirSync(t).filter(r).forEach(function(r){r=i(t,r),s.statSync(r).isDirectory()?e.files(r,n):r.match(/\.(js|coffee)$/)&&n.push(r)}),n},e.slug=function(t){return t.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")}}),process={},process.exit=function(t){},process.stdout={},global=window,process.nextTick=function(){if(window.ActiveXObject||!window.postMessage)return function(t){t()};var t=[],e="mocha-zero-timeout";return function(n){t.push(n),window.postMessage(e,"*"),window.addEventListener("message",function(n){n.source==window&&n.data==e&&(n.stopPropagation&&n.stopPropagation(),t.length&&t.shift()())},!0)}}(),process.removeListener=function(t){"uncaughtException"==t&&(window.onerror=null)},process.on=function(t,e){"uncaughtException"==t&&(window.onerror=e)},window.mocha=t("mocha"),function(){function t(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew *(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}function e(){for(var e=document.getElementsByTagName("code"),n=0,r=e.length;r>n;++n)e[n].innerHTML=t(e[n].innerHTML)}function n(t){return s.reduce(t.replace("?","").split("&"),function(t,e){var n=e.indexOf("="),r=e.slice(0,n),s=e.slice(++n);return t[r]=decodeURIComponent(s),t},{})}var r=new mocha.Suite("",new mocha.Context),s=mocha.utils,o={};mocha.setup=function(t){if("string"==typeof t?o.ui=t:o=t,ui=mocha.interfaces[o.ui],!ui)throw new Error('invalid mocha interface "'+ui+'"');o.timeout&&r.timeout(o.timeout),ui(r),r.emit("pre-require",window)},mocha.run=function(){r.emit("run");var t=new mocha.Runner(r),s=o.reporter||mocha.reporters.HTML,i=(new s(t),n(window.location.search||""));return i.grep&&t.grep(new RegExp(i.grep)),o.ignoreLeaks&&(t.ignoreLeaks=!0),o.globals&&t.globals(o.globals),t.globals(["location"]),t.on("end",e),t.run()}}()}(),!function(t,e){"function"==typeof define&&"object"==typeof define.amd?define(e):this[t]=e()}("chai",function(){function require(t){var e=require.resolve(t),n=require.modules[e];if(!n)throw new Error('failed to require "'+t+'"');return n.exports||(n.exports={},n.call(n.exports,n,n.exports,require.relative(e))),n.exports}return require.modules={},require.resolve=function(t){var e=t,n=t+".js",r=t+"/index.js";return require.modules[n]&&n||require.modules[r]&&r||e},require.register=function(t,e){require.modules[t]=e},require.relative=function(t){return function(e){if("."!=e[0])return require(e);var n=t.split("/"),r=e.split("/");n.pop();for(var s=0;s<r.length;s++){var o=r[s];".."==o?n.pop():"."!=o&&n.push(o)}return require(n.join("/"))}},require.register("assertion.js",function(t,e,n){/*!
 * # Assertion Constructor
 *
 * Creates object for chaining.
 *
 * @api private
 */
function r(t,e,n){this.ssfi=n||arguments.callee,this.obj=t,this.msg=e}/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 *
 * Primarily a refactor of: should.js
 * https://github.com/visionmedia/should.js
 * Copyright(c) 2011 TJ Holowaychuk <tj@vision-media.ca>
 * MIT Licensed
 */
/*!
 * Module dependencies.
 */
var s=n("./error"),o=n("./utils/eql"),i=Object.prototype.toString,a=n("./utils/inspect");/*!
 * Module export.
 */
t.exports=r,/*!
  * ## Assertion.includeStack
  * , toString = Object.prototype.toString
  *
  * User configurable property, influences whether stack trace
  * is included in Assertion error message. Default of false
  * suppresses stack trace in the error message
  *
  *     Assertion.includeStack = true;  // enable stack on error
  *
  * @api public
  */
r.includeStack=!1,/*!
 * # .assert(expression, message, negateMessage, expected, actual)
 *
 * Executes an expression and check expectations. Throws AssertionError for reporting if test doesn't pass.
 *
 * @name assert
 * @param {Philosophical} expression to be tested
 * @param {String} message to display if fails
 * @param {String} negatedMessage to display if negated expression fails
 * @param {*} expected value (remember to check for negation)
 * @param {*} actual (optional) will default to `this.obj`
 * @api private
 */
r.prototype.assert=function(t,e,n,o,i){i=i||this.obj;var e=this.negate?n:e,a=this.negate?!t:t;if(!a)throw new s({message:this.msg?this.msg+": "+e:e,actual:i,expected:o,stackStartFunction:r.includeStack?this.assert:this.ssfi})},/*!
 * # inspect
 *
 * Returns the current object stringified.
 *
 * @name inspect
 * @api private
 */
Object.defineProperty(r.prototype,"inspect",{get:function(){return a(this.obj)},configurable:!0}),Object.defineProperty(r.prototype,"to",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"be",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"been",{get:function(){return this.tense="past",this},configurable:!0}),Object.defineProperty(r.prototype,"an",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"is",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"and",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"have",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"with",{get:function(){return this},configurable:!0}),Object.defineProperty(r.prototype,"not",{get:function(){return this.negate=!0,this},configurable:!0}),Object.defineProperty(r.prototype,"ok",{get:function(){return this.assert(this.obj,"expected "+this.inspect+" to be truthy","expected "+this.inspect+" to be falsy"),this},configurable:!0}),Object.defineProperty(r.prototype,"true",{get:function(){return this.assert(!0===this.obj,"expected "+this.inspect+" to be true","expected "+this.inspect+" to be false",this.negate?!1:!0),this},configurable:!0}),Object.defineProperty(r.prototype,"false",{get:function(){return this.assert(!1===this.obj,"expected "+this.inspect+" to be false","expected "+this.inspect+" to be true",this.negate?!0:!1),this},configurable:!0}),Object.defineProperty(r.prototype,"exist",{get:function(){return this.assert(null!=this.obj,"expected "+this.inspect+" to exist","expected "+this.inspect+" to not exist"),this},configurable:!0}),Object.defineProperty(r.prototype,"empty",{get:function(){var t=this.obj;return Array.isArray(this.obj)?t=this.obj.length:"object"==typeof this.obj&&(t=Object.keys(this.obj).length),this.assert(!t,"expected "+this.inspect+" to be empty","expected "+this.inspect+" not to be empty"),this},configurable:!0}),Object.defineProperty(r.prototype,"arguments",{get:function(){return this.assert("[object Arguments]"==Object.prototype.toString.call(this.obj),"expected "+this.inspect+" to be arguments","expected "+this.inspect+" to not be arguments","[object Arguments]",Object.prototype.toString.call(this.obj)),this},configurable:!0}),r.prototype.equal=function(t){return this.assert(t===this.obj,"expected "+this.inspect+" to equal "+a(t),"expected "+this.inspect+" to not equal "+a(t),t),this},r.prototype.eql=function(t){return this.assert(o(t,this.obj),"expected "+this.inspect+" to equal "+a(t),"expected "+this.inspect+" to not equal "+a(t),t),this},r.prototype.above=function(t){return this.assert(this.obj>t,"expected "+this.inspect+" to be above "+t,"expected "+this.inspect+" to be below "+t),this},r.prototype.below=function(t){return this.assert(this.obj<t,"expected "+this.inspect+" to be below "+t,"expected "+this.inspect+" to be above "+t),this},r.prototype.within=function(t,e){var n=t+".."+e;return this.assert(this.obj>=t&&this.obj<=e,"expected "+this.inspect+" to be within "+n,"expected "+this.inspect+" to not be within "+n),this},r.prototype.a=function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);return this.assert("[object "+e+"]"===i.call(this.obj),"expected "+this.inspect+" to be a "+t,"expected "+this.inspect+" not to be a "+t,"[object "+e+"]",i.call(this.obj)),this},r.prototype["instanceof"]=function(t){var e=t.name;return this.assert(this.obj instanceof t,"expected "+this.inspect+" to be an instance of "+e,"expected "+this.inspect+" to not be an instance of "+e),this},r.prototype.property=function(t,e){if(this.negate&&void 0!==e){if(void 0===this.obj[t])throw new Error(this.inspect+" has no property "+a(t))}else this.assert(void 0!==this.obj[t],"expected "+this.inspect+" to have a property "+a(t),"expected "+this.inspect+" to not have property "+a(t));return void 0!==e&&this.assert(e===this.obj[t],"expected "+this.inspect+" to have a property "+a(t)+" of "+a(e)+", but got "+a(this.obj[t]),"expected "+this.inspect+" to not have a property "+a(t)+" of "+a(e),e,this.obj[e]),this.obj=this.obj[t],this},r.prototype.ownProperty=function(t){return this.assert(this.obj.hasOwnProperty(t),"expected "+this.inspect+" to have own property "+a(t),"expected "+this.inspect+" to not have own property "+a(t)),this},r.prototype.length=function(t){new r(this.obj).to.have.property("length");var e=this.obj.length;return this.assert(e==t,"expected "+this.inspect+" to have a length of "+t+" but got "+e,"expected "+this.inspect+" to not have a length of "+e,t,e),this},r.prototype.match=function(t){return this.assert(t.exec(this.obj),"expected "+this.inspect+" to match "+t,"expected "+this.inspect+" not to match "+t),this},r.prototype.include=function(t){return this.assert(~this.obj.indexOf(t),"expected "+this.inspect+" to include "+a(t),"expected "+this.inspect+" to not include "+a(t)),this},r.prototype.string=function(t){return new r(this.obj).is.a("string"),this.assert(~this.obj.indexOf(t),"expected "+this.inspect+" to contain "+a(t),"expected "+this.inspect+" to not contain "+a(t)),this},Object.defineProperty(r.prototype,"contain",{get:function(){return this.contains=!0,this},configurable:!0}),r.prototype.keys=function(t){var e,n=!0;if(t=t instanceof Array?t:Array.prototype.slice.call(arguments),!t.length)throw new Error("keys required");var r=Object.keys(this.obj),s=t.length;if(n=t.every(function(t){return~r.indexOf(t)}),this.negate||this.contains||(n=n&&t.length==r.length),s>1){t=t.map(function(t){return a(t)});var o=t.pop();e=t.join(", ")+", and "+o}else e=a(t[0]);return e=(s>1?"keys ":"key ")+e,e=(this.contains?"contain ":"have ")+e,this.assert(n,"expected "+this.inspect+" to "+e,"expected "+this.inspect+" to not "+e,t,Object.keys(this.obj)),this},r.prototype["throw"]=function(t,e){new r(this.obj).is.a("function");var n=!1;0===arguments.length?(e=null,t=null):t&&(t instanceof RegExp||"string"==typeof t)&&(e=t,t=null);try{this.obj()}catch(s){if(t&&"function"==typeof t&&(this.assert(s instanceof t&&s.name==t.name,"expected "+this.inspect+" to throw "+t.name+" but a "+s.name+" was thrown","expected "+this.inspect+" to not throw "+t.name),!e))return this;if(s.message&&e&&e instanceof RegExp)return this.assert(e.exec(s.message),"expected "+this.inspect+" to throw error matching "+e+" but got "+a(s.message),"expected "+this.inspect+" to throw error not matching "+e),this;if(s.message&&e&&"string"==typeof e)return this.assert(~s.message.indexOf(e),"expected "+this.inspect+" to throw error including "+a(e)+" but got "+a(s.message),"expected "+this.inspect+" to throw error not including "+a(e)),this;n=!0}var o=t?t.name:"an error";return this.assert(n===!0,"expected "+this.inspect+" to throw "+o,"expected "+this.inspect+" to not throw "+o),this},r.prototype.respondTo=function(t){var e="function"==typeof this.obj?this.obj.prototype[t]:this.obj[t];return this.assert("function"==typeof e,"expected "+this.inspect+" to respond to "+a(t),"expected "+this.inspect+" to not respond to "+a(t),"function",typeof e),this},r.prototype.satisfy=function(t){return this.assert(t(this.obj),"expected "+this.inspect+" to satisfy "+a(t),"expected "+this.inspect+" to not satisfy"+a(t),this.negate?!1:!0,t(this.obj)),this},r.prototype.closeTo=function(t,e){return this.assert(this.obj-e===t||this.obj+e===t,"expected "+this.inspect+" to be close to "+t+" +/- "+e,"expected "+this.inspect+" not to be close to "+t+" +/- "+e),this},/*!
 * Aliases.
 */
function u(t,e){return r.prototype[e]=r.prototype[t],u}("length","lengthOf")("keys","key")("ownProperty","haveOwnProperty")("above","greaterThan")("below","lessThan")("throw","throws")("throw","Throw")("instanceof","instanceOf")}),require.register("chai.js",function(t,e,n){/*!
 * chai
 * Copyright(c) 2011-2012 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var r=[],e=t.exports={};e.version="0.5.2",e.Assertion=n("./assertion"),e.AssertionError=n("./error"),e.inspect=n("./utils/inspect"),e.use=function(t){return~r.indexOf(t)||(t(this),r.push(t)),this};var s=n("./interface/expect");e.use(s);var o=n("./interface/should");e.use(o);var i=n("./interface/assert");e.use(i)}),require.register("error.js",function(t,e,n){/*!
 * Inspired by node.js assert module
 * https://github.com/joyent/node/blob/f8c335d0caf47f16d31413f89aa28eda3878e3aa/lib/assert.js
 */
function r(t){t=t||{},this.name="AssertionError",this.message=t.message,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator;var e=t.stackStartFunction||s;Error.captureStackTrace&&Error.captureStackTrace(this,e)}/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
var s=n("./chai").fail;t.exports=r,r.prototype.__proto__=Error.prototype,r.prototype.toString=function(){return this.message}}),require.register("interface/assert.js",function(module,exports,require){/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
module.exports=function(chai){/*!
   * Chai dependencies.
   */
var Assertion=chai.Assertion,inspect=chai.inspect,assert=chai.assert={};assert.fail=function(t,e,n,r){throw new chai.AssertionError({actual:t,expected:e,message:n,operator:r,stackStartFunction:assert.fail})},assert.ok=function(t,e){new Assertion(t,e).is.ok},assert.equal=function(t,e,n){var r=new Assertion(t,n);r.assert(e==r.obj,"expected "+r.inspect+" to equal "+inspect(e),"expected "+r.inspect+" to not equal "+inspect(e))},assert.notEqual=function(t,e,n){var r=new Assertion(t,n);r.assert(e!=r.obj,"expected "+r.inspect+" to equal "+inspect(e),"expected "+r.inspect+" to not equal "+inspect(e))},assert.strictEqual=function(t,e,n){new Assertion(t,n).to.equal(e)},assert.notStrictEqual=function(t,e,n){new Assertion(t,n).to.not.equal(e)},assert.deepEqual=function(t,e,n){new Assertion(t,n).to.eql(e)},assert.notDeepEqual=function(t,e,n){new Assertion(t,n).to.not.eql(e)},assert.isTrue=function(t,e){new Assertion(t,e).is["true"]},assert.isFalse=function(t,e){new Assertion(t,e).is["false"]},assert.isNull=function(t,e){new Assertion(t,e).to.equal(null)},assert.isNotNull=function(t,e){new Assertion(t,e).to.not.equal(null)},assert.isUndefined=function(t,e){new Assertion(t,e).to.equal(void 0)},assert.isDefined=function(t,e){new Assertion(t,e).to.not.equal(void 0)},assert.isFunction=function(t,e){new Assertion(t,e).to.be.a("function")},assert.isObject=function(t,e){new Assertion(t,e).to.be.a("object")},assert.isArray=function(t,e){new Assertion(t,e).to.be["instanceof"](Array)},assert.isString=function(t,e){new Assertion(t,e).to.be.a("string")},assert.isNumber=function(t,e){new Assertion(t,e).to.be.a("number")},assert.isBoolean=function(t,e){new Assertion(t,e).to.be.a("boolean")},assert.typeOf=function(t,e,n){new Assertion(t,n).to.be.a(e)},assert.instanceOf=function(t,e,n){new Assertion(t,n).to.be["instanceof"](e)},assert.include=function(t,e,n){var r=new Assertion(t,n);Array.isArray(t)?r.to.include(e):"string"==typeof t&&r.to.contain.string(e)},assert.match=function(t,e,n){new Assertion(t,n).to.match(e)},assert.length=function(t,e,n){new Assertion(t,n).to.have.length(e)},assert["throws"]=function(t,e,n){"string"==typeof e&&(n=e,e=null),new Assertion(t,n).to["throw"](e)},assert.doesNotThrow=function(t,e,n){"string"==typeof e&&(n=e,e=null),new Assertion(t,n).to.not["throw"](e)},assert.operator=function(val,operator,val2,msg){if(!~["==","===",">",">=","<","<=","!=","!=="].indexOf(operator))throw new Error('Invalid operator "'+operator+'"');var test=new Assertion(eval(val+operator+val2),msg);test.assert(!0===test.obj,"expected "+inspect(val)+" to be "+operator+" "+inspect(val2),"expected "+inspect(val)+" to not be "+operator+" "+inspect(val2))},/*!
   * Undocumented / untested
   */
assert.ifError=function(t,e){new Assertion(t,e).to.not.be.ok},/*!
   * Aliases.
   */
function t(e,n){return assert[n]=assert[e],t}("length","lengthOf")("throws","throw")}}),require.register("interface/expect.js",function(t,e,n){/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t){t.expect=function(e,n){return new t.Assertion(e,n)}}}),require.register("interface/should.js",function(t,e,n){/*!
 * chai
 * Copyright(c) 2011 Jake Luer <jake@alogicalparadox.com>
 * MIT Licensed
 */
t.exports=function(t){var e=t.Assertion;t.should=function(){Object.defineProperty(Object.prototype,"should",{set:function(){},get:function(){return new e(this instanceof String||this instanceof Number?this.constructor(this):this instanceof Boolean?1==this:this)},configurable:!0});var t={};return t.equal=function(t,n){new e(t).to.equal(n)},t["throw"]=function(t,n,r){new e(t).to["throw"](n,r)},t.exist=function(t){new e(t).to.exist},t.not={},t.not.equal=function(t,n){new e(t).to.not.equal(n)},t.not["throw"]=function(t,n,r){new e(t).to.not["throw"](n,r)},t.not.exist=function(t){new e(t).to.not.exist},t}}}),require.register("utils/eql.js",function(t,e,n){function r(t,e){if(t===e)return!0;if(a.isBuffer(t)&&a.isBuffer(e)){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return t instanceof Date&&e instanceof Date?t.getTime()===e.getTime():"object"!=typeof t&&"object"!=typeof e?t===e:i(t,e)}function s(t){return null===t||void 0===t}function o(t){return"[object Arguments]"==Object.prototype.toString.call(t)}function i(t,e){if(s(t)||s(e))return!1;if(t.prototype!==e.prototype)return!1;if(o(t))return o(e)?(t=pSlice.call(t),e=pSlice.call(e),r(t,e)):!1;try{var n,i,a=Object.keys(t),u=Object.keys(e)}catch(c){return!1}if(a.length!=u.length)return!1;for(a.sort(),u.sort(),i=a.length-1;i>=0;i--)if(a[i]!=u[i])return!1;for(i=a.length-1;i>=0;i--)if(n=a[i],!r(t[n],e[n]))return!1;return!0}if(t.exports=r,!a)var a={isBuffer:function(){return!1}}}),require.register("utils/inspect.js",function(t,e,n){function r(t,e,n,r){var o={showHidden:e,seen:[],stylize:function(t){return t}};return s(o,t,"undefined"==typeof n?2:n)}function s(t,n,r){if(n&&"function"==typeof n.inspect&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n))return n.inspect(r);var s=o(t,n);if(s)return s;var d=Object.keys(n),g=t.showHidden?Object.getOwnPropertyNames(n):d;if(0===g.length){if("function"==typeof n){var y=n.name?": "+n.name:"";return t.stylize("[Function"+y+"]","special")}if(h(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(p(n))return t.stylize(Date.prototype.toUTCString.call(n),"date");if(f(n))return i(n)}var m="",v=!1,b=["{","}"];if(l(n)&&(v=!0,b=["[","]"]),"function"==typeof n){var w=n.name?": "+n.name:"";m=" [Function"+w+"]"}if(h(n)&&(m=" "+RegExp.prototype.toString.call(n)),p(n)&&(m=" "+Date.prototype.toUTCString.call(n)),f(n)&&(m=" "+i(n)),0===g.length&&(!v||0==n.length))return b[0]+m+b[1];if(0>r)return h(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special");t.seen.push(n);var x;return x=v?a(t,n,r,d,g):g.map(function(e){return u(t,n,r,d,e,v)}),t.seen.pop(),c(x,m,b)}function o(t,e){switch(typeof e){case"undefined":return t.stylize("undefined","undefined");case"string":var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string");case"number":return t.stylize(""+e,"number");case"boolean":return t.stylize(""+e,"boolean")}return null===e?t.stylize("null","null"):void 0}function i(t){return"["+Error.prototype.toString.call(t)+"]"}function a(t,e,n,r,s){for(var o=[],i=0,a=e.length;a>i;++i)Object.prototype.hasOwnProperty.call(e,String(i))?o.push(u(t,e,n,r,String(i),!0)):o.push("");return s.forEach(function(s){s.match(/^\d+$/)||o.push(u(t,e,n,r,s,!0))}),o}function u(t,e,n,r,o,i){var a,u;if(e.__lookupGetter__&&(e.__lookupGetter__(o)?u=e.__lookupSetter__(o)?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):e.__lookupSetter__(o)&&(u=t.stylize("[Setter]","special"))),r.indexOf(o)<0&&(a="["+o+"]"),u||(t.seen.indexOf(e[o])<0?(u=null===n?s(t,e[o],null):s(t,e[o],n-1),u.indexOf("\n")>-1&&(u=i?u.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+u.split("\n").map(function(t){return"   "+t}).join("\n"))):u=t.stylize("[Circular]","special")),"undefined"==typeof a){if(i&&o.match(/^\d+$/))return u;a=JSON.stringify(""+o),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+u}function c(t,e,n){var r=0,s=t.reduce(function(t,e){return r++,e.indexOf("\n")>=0&&r++,t+e.length+1},0);return s>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function l(t){return Array.isArray(t)||"object"==typeof t&&"[object Array]"===d(t)}function h(t){return"object"==typeof t&&"[object RegExp]"===d(t)}function p(t){return"object"==typeof t&&"[object Date]"===d(t)}function f(t){return"object"==typeof t&&"[object Error]"===d(t)}function d(t){return Object.prototype.toString.call(t)}t.exports=r}),require("chai")}),function(t,e){function n(t,e){this._d=t,this._isUTC=!!e}function r(t,e){for(var n=t+"";n.length<e;)n="0"+n;return n}function s(e,n,r,s){var o,i,a,u,c="string"==typeof n,l=c?{}:n;return c&&s&&(l[n]=+s),o=(l.ms||l.milliseconds||0)+1e3*(l.s||l.seconds||0)+6e4*(l.m||l.minutes||0)+36e5*(l.h||l.hours||0),i=(l.d||l.days||0)+7*(l.w||l.weeks||0),a=(l.M||l.months||0)+12*(l.y||l.years||0),o&&e.setTime(+e+o*r),i&&e.setDate(e.getDate()+i*r),a&&(u=e.getDate(),e.setDate(1),e.setMonth(e.getMonth()+a*r),e.setDate(Math.min(new t(e.getFullYear(),e.getMonth()+1,0).getDate(),u))),e}function o(t){return"[object Array]"===Object.prototype.toString.call(t)}function i(e){return new t(e[0],e[1]||0,e[2]||1,e[3]||0,e[4]||0,e[5]||0,e[6]||0)}function a(e,n){function s(n){var v,b;switch(n){case"M":return o+1;case"Mo":return o+1+y(o+1);case"MM":return r(o+1,2);case"MMM":return g.monthsShort[o];case"MMMM":return g.months[o];case"D":return i;case"Do":return i+y(i);case"DD":return r(i,2);case"DDD":return v=new t(u,o,i),b=new t(u,0,1),~~((v-b)/864e5+1.5);case"DDDo":return v=s("DDD"),v+y(v);case"DDDD":return r(s("DDD"),3);case"d":return c;case"do":return c+y(c);case"ddd":return g.weekdaysShort[c];case"dddd":return g.weekdays[c];case"w":return v=new t(u,o,i-c+5),b=new t(v.getFullYear(),0,4),~~((v-b)/864e5/7+1.5);case"wo":return v=s("w"),v+y(v);case"ww":return r(s("w"),2);case"YY":return r(u%100,2);case"YYYY":return u;case"a":return m?m(l,h,!1):l>11?"pm":"am";case"A":return m?m(l,h,!0):l>11?"PM":"AM";case"H":return l;case"HH":return r(l,2);case"h":return l%12||12;case"hh":return r(l%12||12,2);case"m":return h;case"mm":return r(h,2);case"s":return p;case"ss":return r(p,2);case"S":return~~(d/100);case"SS":return r(~~(d/10),2);case"SSS":return r(d,3);case"zz":case"z":return(e._d.toString().match(D)||[""])[0].replace(S,"");case"Z":return(0>f?"-":"+")+r(~~(Math.abs(f)/60),2)+":"+r(~~(Math.abs(f)%60),2);case"ZZ":return(0>f?"-":"+")+r(~~(10*Math.abs(f)/6),4);case"L":case"LL":case"LLL":case"LLLL":case"LT":return a(e,g.longDateFormat[n]);default:return n.replace(/(^\[)|(\\)|\]$/g,"")}}var o=e.month(),i=e.date(),u=e.year(),c=e.day(),l=e.hours(),h=e.minutes(),p=e.seconds(),f=-e.zone(),d=e.milliseconds(),y=g.ordinal,m=g.meridiem;return n.replace(j,s)}function u(e,n){function r(t,e){var n;switch(t){case"M":case"MM":a[1]=~~e-1;break;case"MMM":case"MMMM":for(n=0;12>n;n++)if(g.monthsParse[n].test(e)){a[1]=n;break}break;case"D":case"DD":case"DDD":case"DDDD":a[2]=~~e;break;case"YY":e=~~e,a[0]=e+(e>70?1900:2e3);break;case"YYYY":a[0]=~~Math.abs(e);break;case"a":case"A":o="pm"===e.toLowerCase();break;case"H":case"HH":case"h":case"hh":a[3]=~~e;break;case"m":case"mm":a[4]=~~e;break;case"s":case"ss":a[5]=~~e;break;case"Z":case"ZZ":l=!0,n=(e||"").match(E),n&&n[1]&&(u=~~n[1]),n&&n[2]&&(c=~~n[2]),n&&"+"===n[0]&&(u=-u,c=-c)}}var s,o,a=[0,0,1,0,0,0,0],u=0,c=0,l=!1,h=e.match(k),p=n.match(T),f=Math.min(h.length,p.length);for(s=0;f>s;s++)r(p[s],h[s]);return o&&a[3]<12&&(a[3]+=12),o===!1&&12===a[3]&&(a[3]=0),a[3]+=u,a[4]+=c,l?new t(t.UTC.apply({},a)):i(a)}function c(t,e){var n,r=Math.min(t.length,e.length),s=Math.abs(t.length-e.length),o=0;for(n=0;r>n;n++)~~t[n]!==~~e[n]&&o++;return o+s}function l(t,e){var r,s,o,i,l=t.match(k),h=99;for(s=0;s<e.length;s++)o=u(t,e[s]),i=c(l,a(new n(o),e[s]).match(k)),h>i&&(h=i,r=o);return r}function h(e){var n,r="YYYY-MM-DDT";if(M.exec(e)){for(n=0;3>n;n++)if(A[n][1].exec(e)){r+=A[n][0];break}return u(e,r+"Z")}return new t(e)}function p(t,e,n,r){var s=g.relativeTime[t];return"function"==typeof s?s(e||1,!!n,t,r):s.replace(/%d/i,e||1)}function f(t,e){var n=m(Math.abs(t)/1e3),r=m(n/60),s=m(r/60),o=m(s/24),i=m(o/365),a=45>n&&["s",n]||1===r&&["m"]||45>r&&["mm",r]||1===s&&["h"]||22>s&&["hh",s]||1===o&&["d"]||25>=o&&["dd",o]||45>=o&&["M"]||345>o&&["MM",m(o/30)]||1===i&&["y"]||["yy",i];return a[2]=e,a[3]=t>0,p.apply({},a)}function d(t,e){g.fn[t]=function(t){var n=this._isUTC?"UTC":"";return null!=t?(this._d["set"+n+e](t),this):this._d["get"+n+e]()}}var g,y,m=Math.round,v={},b="undefined"!=typeof module,w="months|monthsShort|monthsParse|weekdays|weekdaysShort|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),x=/^\/?Date\((\-?\d+)/i,j=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|LT|LL?L?L?)/g,S=/[^A-Z]/g,D=/\([A-Za-z ]+\)|:[0-9]{2} [A-Z]{3} /g,T=/(\\)?(MM?M?M?|dd?d?d|DD?D?D?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|ZZ?|T)/g,k=/(\\)?([0-9]+|([a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+|([\+\-]\d\d:?\d\d))/gi,M=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d)?)?)?([\+\-]\d\d:?\d\d)?)?/,_="YYYY-MM-DDTHH:mm:ssZ",A=[["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],E=/([\+\-]|\d\d)/gi,O="1.5.0",H="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|");for(g=function(r,s){if(null===r||""===r)return null;var a,c;return r&&r._d instanceof t?a=new t(+r._d):s?a=o(s)?l(r,s):u(r,s):(c=x.exec(r),a=r===e?new t:c?new t(+c[1]):r instanceof t?r:o(r)?i(r):"string"==typeof r?h(r):new t(r)),new n(a)},g.utc=function(e,r){return o(e)?new n(new t(t.UTC.apply({},e)),!0):r&&e?g(e+" 0",r+" Z").utc():g(e).utc()},g.unix=function(t){return g(1e3*t)},g.humanizeDuration=function(t,e,n){var r,s=+t,o=g.relativeTime;switch(e){case"seconds":s*=1e3;break;case"minutes":s*=6e4;break;case"hours":s*=36e5;break;case"days":s*=864e5;break;case"weeks":s*=6048e5;break;case"months":s*=2592e6;break;case"years":s*=31536e6;break;default:n=!!e}return r=f(s,!n),n?(0>=s?o.past:o.future).replace(/%s/i,r):r},g.version=O,g.defaultFormat=_,g.lang=function(t,e){var n,r,s,o=[];if(e){for(n=0;12>n;n++)o[n]=new RegExp("^"+e.months[n]+"|^"+e.monthsShort[n].replace(".",""),"i");e.monthsParse=e.monthsParse||o,v[t]=e}if(v[t])for(n=0;n<w.length;n++)r=w[n],g[r]=v[t][r]||v.en[r];else b&&(s=require("./lang/"+t),g.lang(t,s))},g.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:!1,calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"}}),g.isMoment=function(t){return t instanceof n},g.fn=n.prototype={clone:function(){return g(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},"native":function(){return this._d},toString:function(){return this._d.toString()},toDate:function(){return this._d},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(t){return a(this,t?t:g.defaultFormat)},add:function(t,e){return this._d=s(this._d,t,1,e),this},subtract:function(t,e){return this._d=s(this._d,t,-1,e),this},diff:function(t,e,n){var r,s=g(t),o=6e4*(this.zone()-s.zone()),i=this._d-s._d-o,a=this.year()-s.year(),u=this.month()-s.month(),c=this.date()-s.date();return r="months"===e?12*a+u+c/30:"years"===e?a+u/12:"seconds"===e?i/1e3:"minutes"===e?i/6e4:"hours"===e?i/36e5:"days"===e?i/864e5:"weeks"===e?i/6048e5:i,n?r:m(r)},from:function(t,e){return g.humanizeDuration(this.diff(t),!e)},fromNow:function(t){return this.from(g(),t)},calendar:function(){var t=this.diff(g().sod(),"days",!0),e=g.calendar,n=e.sameElse,r=-6>t?n:-1>t?e.lastWeek:0>t?e.lastDay:1>t?e.sameDay:2>t?e.nextDay:7>t?e.nextWeek:n;return this.format("function"==typeof r?r.apply(this):r)},isLeapYear:function(){var t=this.year();return t%4===0&&t%100!==0||t%400===0},isDST:function(){return this.zone()<g([this.year()]).zone()||this.zone()<g([this.year(),5]).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:this.add({d:t-e})},sod:function(){return this.clone().hours(0).minutes(0).seconds(0).milliseconds(0)},eod:function(){return this.sod().add({d:1,ms:-1})},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return this.clone().month(this.month()+1).date(0).date()}},y=0;y<H.length;y++)d(H[y].toLowerCase(),H[y]);d("year","FullYear"),b&&(module.exports=g),"undefined"!=typeof window&&(window.moment=g),"function"==typeof define&&define.amd&&define("moment",[],function(){return g})}(Date);/*!
  * Cookie Monster - A javascript cookie library 
  * v0.0.3
  * https://github.com/jgallen23/cookie-monster
  * copyright JGA 2011
  * MIT License
  */
var monster={set:function(t,e,n,r){var s=new Date,o="",i=typeof e,a="";if(r=r||"/",n&&(s.setTime(s.getTime()+24*n*60*60*1e3),o="; expires="+s.toGMTString()),"object"===i&&"undefined"!==i){if(!("JSON"in window))throw"Bummer, your browser doesn't support JSON parsing.";a=JSON.stringify({v:e})}else a=escape(e);document.cookie=t+"="+a+o+"; path="+r},get:function(t){for(var e=t+"=",n=document.cookie.split(";"),r="",s="",o={},i=0;i<n.length;i++){for(var a=n[i];" "==a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(e))return r=a.substring(e.length,a.length),s=r.substring(0,1),"{"==s&&(o=JSON.parse(r),"v"in o)?o.v:"undefined"==r?void 0:unescape(r)}return null},remove:function(t){this.set(t,"",-1)}};(function(){this.JST||(this.JST={}),this.JST["templates/contact"]=function(t){t||(t={});var e,n=[],r=function(t){return t&&t.ecoSafe?t:"undefined"!=typeof t&&null!=t?o(t):""},s=t.safe,o=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},o||(o=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){n.push('<div id="map">MAP GOES HERE</div>\n<div id="address" class="vcard">\n  <h3 class="fn org">'),n.push(r(this.name)),n.push('</h3>\n  <div class="adr">\n    <div class="street-address">'),n.push(r(this.address.street)),n.push('</div>\n    <span class="locality">Durham</span>,\n    <abbr class="region" title="North Carolina">NC</abbr>\n    <span class="postal-code">'),n.push(r(this.address.zip)),n.push('</span>\n  </div>\n  <div class="tel">'),n.push(r(this.phone)),n.push("</div>\n</div>\n")}).call(this)}.call(t),t.safe=s,t.escape=o,n.join("")}}).call(this),function(){this.JST||(this.JST={}),this.JST["templates/hours"]=function(t){t||(t={});var e,n=[],r=function(t){return t&&t.ecoSafe?t:"undefined"!=typeof t&&null!=t?o(t):""},s=t.safe,o=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},o||(o=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t,e,s,o,i,a,u;for(n.push("<h2>"),n.push(r(this.name)),n.push(' hours</h2>\n<dl class="dl-horizontal">\n  '),o=s=0;6>=s;o=++s)n.push("\n    "),t=moment().add("days",o),n.push("\n    "),e=t.format("dddd"),n.push("\n    "),i=this.hours[e],a=i[0],u=i[1],n.push('\n    <dt class="day'),n.push(r(o)),n.push('">'),n.push(r(e)),n.push('</dt>\n    <dd class="day'),n.push(r(o)),n.push('">\n    '),Holiday.isHoliday(t)?(n.push("\n      "),n.push(r(Holiday.getHoliday(t).name)),n.push("\n    ")):a&&u?(n.push("\n      "),n.push(r(this.mt(a))),n.push(" - "),n.push(r(this.mt(u))),n.push("\n    ")):n.push("\n      Closed\n    "),n.push("\n    </dd>\n  ");n.push("\n</dl>\n")}).call(this)}.call(t),t.safe=s,t.escape=o,n.join("")}}.call(this),function(){this.JST||(this.JST={}),this.JST["templates/open"]=function(t){t||(t={});var e,n=[],r=function(t){return t&&t.ecoSafe?t:"undefined"!=typeof t&&null!=t?o(t):""},s=t.safe,o=t.escape;return e=t.safe=function(t){if(t&&t.ecoSafe)return t;("undefined"==typeof t||null==t)&&(t="");var e=new String(t);return e.ecoSafe=!0,e},o||(o=t.escape=function(t){return(""+t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}),function(){(function(){var t;n.push('<div class="row">\n  '),t=this.open?"yes":"no",n.push('\n  <div class="y-or-n span12 '),n.push(r(t)),n.push('">\n    '),n.push(r(t)),n.push('\n  </div>\n  <div class="span12">\n    '),n.push(r(this.message)),n.push("\n  </div>\n</div>\n")}).call(this)}.call(t),t.safe=s,t.escape=o,n.join("")}}.call(this),function(){var t,e,n;t=function(){function t(t){var e,n,r;this.name=t.name,this.hours=t.hours,this.address=t.address,this.phone=t.phone,n=function(){var t,n;t=this.hours,n=[];for(e in t)r=t[e],2===r.length&&n.push(e);return n}.call(this),this.closed=0===n.length}return t.prototype.fullAddress=function(){return this.address.street+", Durham NC "+this.address.zip},t.prototype.isOpen=function(t){var e,n;return e=t.format("dddd"),n=t.format("HHmm"),!Holiday.isHoliday(t)&&null!=this.hours[e]&&2===this.hours[e].length&&this.hours[e][0]<=n&&n<=this.hours[e][1]},t.prototype.openMessage=function(t){var e,n,r;if(n=t.day(),e=moment.weekdays[n],this.isOpen(t))return"until "+mt(this.hours[e][1]);if(r=t.format("HHmm"),!Holiday.isHoliday(t)&&this.hours[e][0]>r)return"It will open at "+mt(this.hours[e][0])+" today.";if(this.closed)return"It is closed until further notice.";for(t=t.add("days",1),n=t.day(),e=moment.weekdays[n];Holiday.isHoliday(t)||2!==this.hours[e].length;)t=t.add("days",1),n=t.day(),e=moment.weekdays[n];return"It will open at "+mt(this.hours[e][0])+" on "+e+"."},t}(),t.current=function(){return $(document).data("library")},t.choose=function(e){var n;return e!==t.current()&&t.all[e]?(monster.set("library",e,365),$(document).data("library",e),n=t.all[e],$("#library-chooser .btn-text").text("the "+n.name),this.displayOpenInfo(e),$("#hours").html(JST["templates/hours"]({name:n.name,hours:n.hours,mt:t.formatMilTime,mod:function(t,e){return t%e}})),$("#contact").html(JST["templates/contact"]({name:n.name,address:n.address,phone:n.phone})),$("#map").gMap({address:n.fullAddress(),zoom:16,controls:["GSmallZoomControl3D"],scrollwheel:!1,markers:[{address:n.fullAddress(),html:n.name+"<br><a target='_blank' href='http://maps.google.com/maps?q="+n.fullAddress()+"'>Google Map</a>"}]})):void 0},t.displayOpenInfo=function(t){return t=this.all[t],$("#open-info").html(JST["templates/open"]({open:t.isOpen(moment()),message:t.openMessage(moment())}))},t.updateClock=function(){return $("#now").html(moment().format("dddd, MMMM Do, YYYY [at] h:mm a")),t.current()?t.displayOpenInfo(t.current()):void 0},t.formatMilTime=function(t){var e,n,r,s;return n=t.slice(0,2),r=t.slice(2,4),e=12>n?"AM":"PM",s=n%12,12===s&&(s+=12),"00"===r?s+" "+e:s+":"+r+" "+e},this.mt=t.formatMilTime,t.initialize=function(){var t,e;return t=null!=(e=monster.get("library"))?e:"east",t?this.choose(t):void 0},t.all={};for(n in libraries)e=libraries[n],t.all[n]=new t(e);window.Library=t}.call(this),function(){this.libraries={east:{name:"East Regional Library",hours:{Monday:["0900","2100"],Tuesday:["0900","2100"],Wednesday:["0900","1800"],Thursday:["0900","2100"],Friday:["0930","1800"],Saturday:["0930","1800"],Sunday:["1400","1800"]},address:{street:"211 Lick Creek Lane",zip:27703},phone:"919-560-0203"},north:{name:"North Regional Library",hours:{Monday:["0900","2100"],Tuesday:["0900","2100"],Wednesday:["0900","1800"],Thursday:["0900","2100"],Friday:["0930","1800"],Saturday:["0930","1800"],Sunday:["1400","1800"]},address:{street:"221 Milton Road",zip:27712},phone:"919-560-0231"},south:{name:"South Regional Library",hours:{Monday:["0900","2100"],Tuesday:["0900","2100"],Wednesday:["0900","1800"],Thursday:["0900","2100"],Friday:["0930","1800"],Saturday:["0930","1800"],Sunday:["1400","1800"]},address:{street:"4505 S Alston Ave",zip:27713},phone:"919-560-7409"},southwest:{name:"Southwest Regional Library",hours:{Monday:["0900","2100"],Tuesday:["0900","2100"],Wednesday:["0900","1800"],Thursday:["0900","2100"],Friday:["0930","1800"],Saturday:["0930","1800"],Sunday:["1400","1800"]},address:{street:"3605 Shannon Road",zip:27707},phone:"919-560-8590"},warren:{name:"Stanford L. Warren Branch",hours:{Monday:["0900","2100"],Tuesday:["0900","2100"],Wednesday:["0900","1800"],Thursday:["0900","2100"],Friday:["0930","1800"],Saturday:["0930","1800"],Sunday:[]},address:{street:"1201 Fayetteville St",zip:27707},phone:"919-560-0270"},bragtown:{name:"Bragtown Library Family Literacy Center",hours:{Monday:["1300","1700"],Tuesday:["1300","1700"],Wednesday:["1300","1700"],Thursday:["1300","1700"],Friday:["1300","1700"],Saturday:[],Sunday:[]},address:{street:"3200 Dearborn Dr",zip:27704},phone:"919-560-0210"},ncc:{name:"North Carolina Collection",hours:{Monday:["1230","2100"],Tuesday:["1000","1700"],Wednesday:["1000","1700"],Thursday:["1000","1700"],Friday:["1000","1700"],Saturday:["1000","1700"],Sunday:[]},address:{street:"Northgate Mall Suite 832, 1058 N Club Blvd",zip:27701},phone:"919-560-0171"},dac:{name:"Digital Access Center",hours:{Monday:[],Tuesday:[],Wednesday:[],Thursday:[],Friday:["1000","1730"],Saturday:["1000","1730"],Sunday:["1400","1730"]},address:{street:"326 E Main St",zip:27701},phone:null}},this.holidays={"2012-04-06":"Spring Holiday","2012-04-07":"Spring Holiday","2012-04-08":"Spring Holiday","2012-05-16":"Staff Development Day","2012-05-27":"Memorial Day","2012-05-28":"Memorial Day","2012-07-04":"Fourth of July","2012-09-02":"Labor Day","2012-09-03":"Labor Day","2012-11-14":"Staff Development Day","2012-11-22":"Thanksgiving Holiday","2012-11-23":"Thanksgiving Holiday","2012-12-23":"Winter Holiday","2012-12-24":"Winter Holiday","2012-12-25":"Winter Holiday","2012-12-26":"Winter Holiday","2013-01-01":"New Year's Day","2013-01-21":"Martin Luther King, Jr. Holiday","2013-01-25":"Closed - Winter Weather","2013-03-29":"Spring Holiday","2013-03-30":"Spring Holiday","2013-03-31":"Spring Holiday","2013-05-15":"Staff Development Day","2013-05-26":"Memorial Day","2013-05-27":"Memorial Day","2013-07-04":"Independence Day","2013-09-01":"Labor Day","2013-09-02":"Labor Day","2013-11-13":"Staff Development Day","2013-11-28":"Thanksgiving Holiday","2013-11-29":"Thanksgiving Holiday","2013-12-24":"Winter Holiday","2013-12-25":"Winter Holiday","2013-12-26":"Winter Holiday","2014-01-01":"New Year's Day","2014-01-20":"Martin Luther King, Jr. Day","2014-04-18":"Spring Holiday","2014-04-19":"Spring Holiday","2014-04-20":"Spring Holiday","2014-05-14":"Staff Development Day","2014-05-25":"Memorial Day","2014-05-26":"Memorial Day","2014-07-04":"Independence Day","2014-08-31":"Labor Day","2014-09-01":"Labor Day","2014-11-12":"Staff Development Day","2014-11-27":"Thanksgiving","2014-11-28":"Thanksgiving","2014-12-24":"Winter Holiday","2014-12-25":"Winter Holiday","2014-12-26":"Winter Holiday","2015-01-01":"New Year's Day","2015-01-19":"Martin Luther King, Jr. Day","2015-04-03":"Spring Holiday","2015-04-04":"Spring Holiday","2015-04-05":"Spring Holiday","2015-05-13":"Staff Development Day","2015-05-24":"Memorial Day","2015-05-25":"Memorial Day","2015-07-03":"Independence Day","2015-07-04":"Independence Day","2015-09-06":"Labor Day","2015-09-07":"Labor Day","2015-11-18":"Staff Development Day","2015-11-26":"Thanksgiving","2015-11-27":"Thanksgiving","2015-12-24":"Winter Holiday","2015-12-25":"Winter Holiday","2016-01-01":"New Year's Day","2017-12-22":"Winter Holiday","2017-12-23":"Winter Holiday","2017-12-24":"Winter Holiday","2017-12-25":"Winter Holiday","2017-12-26":"Winter Holiday","2018-01-01":"New Year's Day","2018-01-15":"Martin Luther King, Jr. Day","2018-03-30":"Spring Holiday","2018-03-31":"Spring Holiday","2018-04-01":"Spring Holiday","2018-05-16":"Staff Development Day","2018-05-27":"Memorial Day","2018-05-28":"Memorial Day","2018-07-04":"Independence Day","2018-09-02":"Labor Day","2018-09-03":"Labor Day","2018-11-11":"Veteran's Day","2018-11-12":"Veteran's Day","2018-11-22":"Thanksgiving","2018-11-23":"Thanksgiving","2018-12-24":"Winter Holiday","2018-12-25":"Winter Holiday","2018-12-26":"Winter Holiday","2019-01-01":"New Year's Day"}}.call(this),function(){var t,e,n;t=function(){function t(t){this.name=t.name,this.date=moment(t.date)}return t}(),t.getHoliday=function(e){var n;return n=e.format("YYYY-MM-DD"),t.all[n]},t.isHoliday=function(t){return null!=this.getHoliday(t)},t.all={},t.add=function(e,n){var r;return moment.isMoment(e)||(e=moment(e)),r=e.format("YYYY-MM-DD"),t.all[r]=new t({date:r,name:n})};for(e in holidays)n=holidays[e],t.add(e,n);window.Holiday=t}.call(this),function(){var t;mocha.setup("bdd"),t=chai.should(),describe("Library",function(){var t;return t=new Library({name:"Test Library",hours:{Sunday:["1400","1800"],Monday:["0900","1800"],Tuesday:[]},address:{street:"103 Choctaw Dr",zip:"27701",phone:"919-867-5309"}}),describe("#fullAddress",function(){return it("should add Durham, NC to the address",function(){return t.fullAddress().should.equal("103 Choctaw Dr, Durham NC 27701")})}),describe("#isOpen",function(){return it("should be open when the data shows it would be open",function(){return t.isOpen(moment().day(0).hours(15)).should.be["true"]}),it("should not be open when the data for the day is empty",function(){return t.isOpen(moment().day(2)).should.be["false"]}),it("should not be open when there is no data for the day",function(){return t.isOpen(moment().day(3)).should.be["false"]}),it("should not be open when there is a holiday",function(){return Holiday.add(moment().day(1),"Special Monday"),t.isOpen(moment().day(1).hours(10)).should.be["false"]})})}),describe("Holiday",function(){return it("can be created from a text date",function(){var t;return t=new Holiday({name:"June First",date:"2012-06-01"}),t.date.valueOf().should.equal(moment("June 1, 2012").valueOf())})})}.call(this);